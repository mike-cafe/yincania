Nov 26, 2022 10:49:55 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start
INFO: Started WebSocket server on ws://127.0.0.1:9150
API endpoint: http://127.0.0.1:8080
If you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:

   export FIRESTORE_EMULATOR_HOST=127.0.0.1:8080

Dev App Server is now running.

Nov 26, 2022 10:50:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 10:50:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected HTTP/2 connection.
Nov 26, 2022 10:50:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 10:50:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:19 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:19 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:21 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:13:21 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:13:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:13:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:17 AM io.netty.channel.DefaultChannelPipeline onUnhandledInboundException
WARNING: An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.channel.StacklessClosedChannelException
	at io.netty.channel.AbstractChannel$AbstractUnsafe.write(Object, ChannelPromise)(Unknown Source)

Nov 26, 2022 11:14:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:20 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:14:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:22 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:14:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:36 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:14:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:14:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:15:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:15:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:15:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:15:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:15:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:15:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:15:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:15:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:15:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:15:17 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:15:17 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:15:17 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:15:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:15:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:15:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:16:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:16:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:16:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:16:17 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Nov 26, 2022 11:16:17 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:24:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:22 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:24:22 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:24:22 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:24:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:54 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:24:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:24:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:01 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected HTTP/2 connection.
Nov 26, 2022 11:25:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:44 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:25:44 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:25:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:54 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Nov 26, 2022 11:25:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:25:55 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:26:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:21 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:26:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:45 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Nov 26, 2022 11:26:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:26:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:27:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:27:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:27:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:27:22 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:27:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:27:47 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:27:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:27:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:27:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:27:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:27:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:27:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:27:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:27:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:27:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:27:58 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:27:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:28:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:28:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:28:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:28:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:28:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:28:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:28:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:28:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:28:58 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:29:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:29:03 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:29:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:29:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:29:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:30:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:30:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:30:07 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:30:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:30:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:30:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:30:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:30:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:30:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:30:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:30:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:30:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:30:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:31:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:31:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:31:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:31:40 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Nov 26, 2022 11:31:40 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:33:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:30 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:33:30 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:33:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:33:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:50 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:34:50 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:34:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:52 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:34:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:35:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:35:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:35:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:35:02 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:35:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:35:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:35:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:35:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:35:38 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Nov 26, 2022 11:35:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:35:40 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:36:01 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
Nov 26, 2022 11:36:01 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.generateRequestBacklog(BufferingRequestListener.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler$1.userEventTriggered(WebSocketChannelHandler.java:49)
	at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:346)
	at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:332)
	at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:324)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandshakeHandler$1.operationComplete(WebSocketServerProtocolHandshakeHandler.java:109)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandshakeHandler$1.operationComplete(WebSocketServerProtocolHandshakeHandler.java:98)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.addListener(DefaultPromise.java:184)
	at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:95)
	at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:30)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandshakeHandler.channelRead(WebSocketServerProtocolHandshakeHandler.java:98)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)
	at io.netty.handler.codec.http.websocketx.extensions.WebSocketServerExtensionHandler.channelRead(WebSocketServerExtensionHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:832)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 53 more

Nov 26, 2022 11:36:01 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.generateRequestBacklog(BufferingRequestListener.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler$1.userEventTriggered(WebSocketChannelHandler.java:49)
	at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:346)
	at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:332)
	at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:324)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandshakeHandler$1.operationComplete(WebSocketServerProtocolHandshakeHandler.java:109)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandshakeHandler$1.operationComplete(WebSocketServerProtocolHandshakeHandler.java:98)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.addListener(DefaultPromise.java:184)
	at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:95)
	at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:30)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandshakeHandler.channelRead(WebSocketServerProtocolHandshakeHandler.java:98)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)
	at io.netty.handler.codec.http.websocketx.extensions.WebSocketServerExtensionHandler.channelRead(WebSocketServerExtensionHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:832)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 53 more

Nov 26, 2022 11:36:01 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.generateRequestBacklog(BufferingRequestListener.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler$1.userEventTriggered(WebSocketChannelHandler.java:49)
	at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:346)
	at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:332)
	at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:324)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandshakeHandler$1.operationComplete(WebSocketServerProtocolHandshakeHandler.java:109)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandshakeHandler$1.operationComplete(WebSocketServerProtocolHandshakeHandler.java:98)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.addListener(DefaultPromise.java:184)
	at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:95)
	at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:30)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandshakeHandler.channelRead(WebSocketServerProtocolHandshakeHandler.java:98)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)
	at io.netty.handler.codec.http.websocketx.extensions.WebSocketServerExtensionHandler.channelRead(WebSocketServerExtensionHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:832)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 53 more

Nov 26, 2022 11:36:01 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.generateRequestBacklog(BufferingRequestListener.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler$1.userEventTriggered(WebSocketChannelHandler.java:49)
	at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:346)
	at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:332)
	at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:324)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandshakeHandler$1.operationComplete(WebSocketServerProtocolHandshakeHandler.java:109)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandshakeHandler$1.operationComplete(WebSocketServerProtocolHandshakeHandler.java:98)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.addListener(DefaultPromise.java:184)
	at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:95)
	at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:30)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandshakeHandler.channelRead(WebSocketServerProtocolHandshakeHandler.java:98)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)
	at io.netty.handler.codec.http.websocketx.extensions.WebSocketServerExtensionHandler.channelRead(WebSocketServerExtensionHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:832)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 53 more

Nov 26, 2022 11:36:01 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.generateRequestBacklog(BufferingRequestListener.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler$1.userEventTriggered(WebSocketChannelHandler.java:49)
	at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:346)
	at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:332)
	at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:324)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandshakeHandler$1.operationComplete(WebSocketServerProtocolHandshakeHandler.java:109)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandshakeHandler$1.operationComplete(WebSocketServerProtocolHandshakeHandler.java:98)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.addListener(DefaultPromise.java:184)
	at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:95)
	at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:30)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandshakeHandler.channelRead(WebSocketServerProtocolHandshakeHandler.java:98)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)
	at io.netty.handler.codec.http.websocketx.extensions.WebSocketServerExtensionHandler.channelRead(WebSocketServerExtensionHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:832)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 53 more

Nov 26, 2022 11:36:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected HTTP/2 connection.
Nov 26, 2022 11:36:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:36:58 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:37:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:22 AM com.google.cloud.datastore.emulator.impl.events.FunctionsEmulatorEventPublisher sendHttpRequest
WARNING: Unsuccessful HTTP response when publishing event for projects/react-coffee-a2736/triggers/europe-west3-addTeamRoute-0: 500 Internal Server Error
shuffledStages is not iterable
Nov 26, 2022 11:37:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:51 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:37:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:52 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:52 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:52 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:37:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:17 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:38:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected HTTP/2 connection.
Nov 26, 2022 11:38:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:37 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Nov 26, 2022 11:38:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:38:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:39:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:39:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:39:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:39:18 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Nov 26, 2022 11:39:18 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:39:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:40:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:40:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:40:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:40:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:40:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:40:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:40:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:40:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:40:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:40:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:40:53 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:40:53 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:40:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:40:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:41:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:41:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:41:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:41:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:41:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:41:53 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Nov 26, 2022 11:41:53 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:41:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:41:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:41:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:41:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:41:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:41:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:12 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:42:12 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:42:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:33 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:42:33 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:42:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:42:59 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:42:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:10 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:43:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:19 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:19 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:36 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Nov 26, 2022 11:43:36 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:43:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:43:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:10 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Nov 26, 2022 11:44:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:12 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:44:12 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:44:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:19 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:19 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:44:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:52 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:52 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:52 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:52 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:44:52 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:44:52 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:44:52 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:44:52 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:44:52 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:44:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:24 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:45:24 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:45:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:41 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:41 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:41 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:50 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:45:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:52 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:52 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:52 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:52 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:45:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:32 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:46:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:37 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:46:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:44 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Nov 26, 2022 11:46:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:44 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:46:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:46:50 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:46:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:47:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:47:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:47:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:47:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:47:44 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Nov 26, 2022 11:47:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:47:51 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:48:01 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:48:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:48:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:48:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:48:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:48:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:48:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:48:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:49:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:49:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:49:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:49:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:49:06 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Nov 26, 2022 11:49:06 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:49:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:49:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:49:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:49:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:49:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:49:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:49:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:49:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:49:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:49:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:49:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:49:55 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:49:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:50:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:50:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:50:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:50:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:50:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:50:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:50:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:50:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:50:31 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:50:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:50:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:50:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:50:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:50:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:50:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:50:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:17 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:51:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:51:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:04 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:52:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:14 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:52:14 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:52:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:52 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:52 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:52:58 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:52:58 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:52:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:04 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Nov 26, 2022 11:53:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:06 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:53:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:13 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:53:13 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:53:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:26 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:53:26 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:53:26 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:53:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:34 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:53:34 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:53:34 AM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 11:53:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:53:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:54:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:54:13 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Nov 26, 2022 11:54:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:54:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:54:29 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Nov 26, 2022 11:54:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:54:29 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:54:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:54:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:54:35 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 11:54:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:55:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:56:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:57:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:58:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 11:59:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:00:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:01:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:02:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:03:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:04:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:06:02 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:06:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:06:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:06:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:06:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:06:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:06:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:06:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:06:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:06:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:06:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:06:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:07:02 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:07:18 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:07:18 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:07:18 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:07:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:07:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:07:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:07:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:07:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:07:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:08:03 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:08:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:08:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:08:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:08:34 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:08:34 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:09:03 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:09:04 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:09:35 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:09:35 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 12:10:03 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:11:03 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:12:03 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:13:03 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:14:03 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:15:03 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:16:03 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:16:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:16:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:16:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:16:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:16:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:16:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:16:37 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:16:37 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:16:37 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:16:41 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:16:41 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:17:03 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:17:11 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:17:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:17:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:17:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:17:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:17:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:17:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:18:03 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:18:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:18:24 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:18:24 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 12:19:03 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:19:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:19:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:19:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:19:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:19:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:19:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:19:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:19:58 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:19:58 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:02 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:02 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:03 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:04 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:13 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 12:20:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:24 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:24 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:28 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 12:20:28 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 12:20:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:29 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:29 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:29 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:29 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:32 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:33 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 12:20:33 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Nov 26, 2022 12:20:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:35 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:35 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:35 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:35 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:20:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:21:05 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:21:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:21:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:21:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:21:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:21:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:21:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:21:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:21:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:21:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:21:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:21:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:21:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:21:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:21:35 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:21:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:21:36 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Nov 26, 2022 12:22:05 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:22:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:22:18 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:22:18 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 12:23:02 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:23:02 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:23:02 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:23:04 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:23:04 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:23:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:23:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:23:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:23:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:23:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:23:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:02 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:02 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:31 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:31 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 12:24:31 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:31 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:31 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:31 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:31 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:35 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:35 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:37 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:37 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:37 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:37 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:41 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:41 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:42 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:42 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:24:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:25:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:25:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:25:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:25:43 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Nov 26, 2022 12:26:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 26, 2022 12:27:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
