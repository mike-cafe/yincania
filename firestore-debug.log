Dec 06, 2022 5:16:53 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start
INFO: Started WebSocket server on ws://127.0.0.1:9150
API endpoint: http://127.0.0.1:8080
If you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:

   export FIRESTORE_EMULATOR_HOST=127.0.0.1:8080

Dev App Server is now running.

Dec 06, 2022 5:17:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:17:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected HTTP/2 connection.
Dec 06, 2022 5:17:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:17:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:17:56 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
Dec 06, 2022 5:17:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:17:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:18:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:18:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:18:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:18:00 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Dec 06, 2022 5:20:34 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:20:34 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:20:34 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:20:35 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:20:35 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:20:35 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:20:35 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:20:35 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:20:35 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Dec 06, 2022 5:20:35 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Dec 06, 2022 5:20:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:20:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:20:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:20:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:20:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:20:58 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:20:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:20:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:21:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:21:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:21:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:21:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:21:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:21:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:21:45 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:22:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:22:15 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Dec 06, 2022 5:27:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:27:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:27:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:27:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:27:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:27:51 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:152)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 48 more

Dec 06, 2022 5:27:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:27:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:27:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:27:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected HTTP/2 connection.
Dec 06, 2022 5:28:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:28:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:28:51 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Dec 06, 2022 5:28:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:28:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:28:52 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Dec 06, 2022 5:29:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:29:49 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:152)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 48 more

Dec 06, 2022 5:29:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:29:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:29:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:30:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:30:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:30:49 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Dec 06, 2022 5:33:24 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:33:24 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:33:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:33:33 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Dec 06, 2022 5:33:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:33:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:33:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:33:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:33:33 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:33:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:33:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:33:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:33:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:33:55 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:33:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:33:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:34:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:34:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:34:14 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:34:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:34:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:34:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:34:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:34:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:34:23 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:34:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:34:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:34:42 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:34:42 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:34:42 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:34:42 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:34:42 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:34:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:34:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:34:53 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:34:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:35:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:35:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:35:54 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Dec 06, 2022 5:36:29 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:36:29 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:152)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 48 more

Dec 06, 2022 5:36:29 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:36:29 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:36:29 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:37:29 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:37:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:37:30 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Dec 06, 2022 5:39:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:39:17 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:152)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 48 more

Dec 06, 2022 5:39:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:39:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:39:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:39:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:39:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:39:59 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:39:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:39:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:40:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:40:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:40:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:40:19 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:40:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:40:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:40:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:40:40 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:40:40 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:40:40 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:40:40 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:41:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:41:40 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:41:40 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Dec 06, 2022 5:42:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:42:00 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:152)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 48 more

Dec 06, 2022 5:42:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:42:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:42:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:43:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:43:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:43:01 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Dec 06, 2022 5:43:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:43:53 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:152)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 48 more

Dec 06, 2022 5:43:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:43:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:43:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:44:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:44:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:44:54 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Dec 06, 2022 5:45:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:45:26 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:152)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 48 more

Dec 06, 2022 5:45:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:45:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:45:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:46:29 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:46:29 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:46:29 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Dec 06, 2022 5:46:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:46:46 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:152)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 48 more

Dec 06, 2022 5:46:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:46:47 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:46:47 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:47:05 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:47:05 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:47:05 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:47:05 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:47:05 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:47:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:47:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:47:23 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:47:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:47:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:47:47 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:47:48 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:47:48 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:47:48 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:47:48 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:47:48 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:47:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:47:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:48:12 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:48:12 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:48:12 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:48:12 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:48:12 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:48:42 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:49:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:49:13 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Dec 06, 2022 5:49:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:49:36 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:152)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 48 more

Dec 06, 2022 5:49:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:49:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:49:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:49:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:49:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:49:44 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:49:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:49:56 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:49:56 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:49:56 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:49:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:49:58 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:50:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:50:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:50:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:50:49 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:50:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:50:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:51:03 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:51:04 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:51:04 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:51:04 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:51:04 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:51:07 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:51:07 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:51:07 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:51:07 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:51:07 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:51:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:51:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:51:13 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:51:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:51:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:51:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:51:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:51:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:51:33 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:51:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:51:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:52:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:52:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:52:01 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:52:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:52:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:52:31 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:52:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:52:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:52:54 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:52:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:52:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:53:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:53:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:53:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:53:23 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:53:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:53:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:53:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:53:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:53:38 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:53:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:53:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:54:24 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:54:24 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:54:24 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:54:24 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:54:25 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:54:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:54:56 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:54:56 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:54:56 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:54:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:54:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:13 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:55:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:18 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:18 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:18 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:55:18 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:18 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:24 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:25 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:25 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:55:25 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:25 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:34 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:34 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:34 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:55:35 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:53 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:55:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:55:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:56:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:56:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:56:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:56:22 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:56:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:56:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:56:42 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:56:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:56:43 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:56:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:56:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:56:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:56:49 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:56:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:56:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:57:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:57:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:57:01 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:57:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:57:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:57:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:57:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:57:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:57:15 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:57:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:57:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:57:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:57:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:57:28 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:57:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:57:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:57:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:57:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:57:43 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 5:57:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:57:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:58:13 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:58:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 5:58:43 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Dec 06, 2022 6:02:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:02:46 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:152)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 48 more

Dec 06, 2022 6:02:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:02:47 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:02:48 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:03:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:03:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:03:28 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 6:03:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:03:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:03:37 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:03:37 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:03:37 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:03:37 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 6:03:37 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:03:37 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:03:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:03:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:03:52 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 6:03:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:03:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:04:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:04:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:04:10 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 6:04:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:04:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:04:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:04:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:04:14 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 6:04:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:04:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:04:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:04:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:04:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:04:28 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 06, 2022 6:04:29 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:04:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:05:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:05:30 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Dec 06, 2022 6:06:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:06:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:06:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:06:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 06, 2022 6:06:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected HTTP/2 connection.
*** shutting down gRPC server since JVM is shutting down
*** server shut down
221206 18:06:21.994:I 1 [main] [com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer.stop:80] Stopping WebSocket server...
221206 18:06:22.009:I 32 [nioEventLoopGroup-3-1] [com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler.channelClosed:81] Websocket client disconnected
